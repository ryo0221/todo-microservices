services:
  auth:
    command: ["python","-m","uvicorn","app.main:app","--host","0.0.0.0","--port","8000","--reload"]
    environment:
      WATCHFILES_FORCE_POLLING: "1"  # WSL/ネットワークドライブで変更検知が弱い時の保険

  todo:
    command: ["python","-m","uvicorn","app.main:app","--host","0.0.0.0","--port","8000","--reload"]
    environment:
      WATCHFILES_FORCE_POLLING: "1"

  gateway:
    command: ["python","-m","uvicorn","app.main:app","--host","0.0.0.0","--port","8000","--reload"]
    environment:
      WATCHFILES_FORCE_POLLING: "1"